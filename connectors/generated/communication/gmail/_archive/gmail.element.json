{
  "$schema": "https://unpkg.com/@camunda/element-templates-json-schema/resources/schema.json",
  "name": "Catalyst - Gmail Connector",
  "id": "io.catalyst.template.gmail",
  "description": "Gmail integration connector",
  "version": 1,
  "appliesTo": [
    "bpmn:ServiceTask"
  ],
  "icon": {
    "contents": "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 24 24' fill='none' stroke='%2306b6d4' stroke-width='2'%3E%3Cpath d='M12 2L2 7l10 5 10-5-10-5z'/%3E%3Cpath d='M2 17l10 5 10-5'/%3E%3Cpath d='M2 12l10 5 10-5'/%3E%3C/svg%3E"
  },
  "groups": [
    {
      "id": "connection",
      "label": "Connection"
    },
    {
      "id": "operation",
      "label": "Operation"
    },
    {
      "id": "input",
      "label": "Input"
    },
    {
      "id": "output",
      "label": "Output"
    }
  ],
  "properties": [
    {
      "label": "Implementation",
      "type": "String",
      "value": "io.catalyst.bridge.CatalystBridge",
      "binding": {
        "type": "property",
        "name": "camunda:class"
      }
    },
    {
      "label": "n8n Webhook URL",
      "type": "String",
      "value": "http://catalyst-n8n:5678/webhook/catalyst-gmail",
      "binding": {
        "type": "camunda:inputParameter",
        "name": "webhookUrl"
      },
      "group": "connection",
      "constraints": {
        "notEmpty": true
      }
    },
    {
      "label": "Timeout (seconds)",
      "type": "String",
      "value": "30",
      "binding": {
        "type": "camunda:inputParameter",
        "name": "timeout"
      },
      "group": "connection"
    },
    {
      "id": "operation",
      "label": "Operation (Reference)",
      "type": "Dropdown",
      "value": "draft:create",
      "binding": {
        "type": "camunda:inputParameter",
        "name": "operation"
      },
      "group": "operation",
      "choices": [
        {
          "name": "Draft - Create",
          "value": "draft:create"
        },
        {
          "name": "Draft - Delete",
          "value": "draft:delete"
        },
        {
          "name": "Draft - Get",
          "value": "draft:get"
        },
        {
          "name": "Draft - Get Many",
          "value": "draft:getAll"
        },
        {
          "name": "Label - Create",
          "value": "label:create"
        },
        {
          "name": "Label - Delete",
          "value": "label:delete"
        },
        {
          "name": "Label - Get",
          "value": "label:get"
        },
        {
          "name": "Label - Get Many",
          "value": "label:getAll"
        },
        {
          "name": "Message - Add Label",
          "value": "message:addLabels"
        },
        {
          "name": "Message - Delete",
          "value": "message:delete"
        },
        {
          "name": "Message - Get",
          "value": "message:get"
        },
        {
          "name": "Message - Get Many",
          "value": "message:getAll"
        },
        {
          "name": "Message - Mark as Read",
          "value": "message:markAsRead"
        },
        {
          "name": "Message - Mark as Unread",
          "value": "message:markAsUnread"
        },
        {
          "name": "Message - Remove Label",
          "value": "message:removeLabels"
        },
        {
          "name": "Message - Reply",
          "value": "message:reply"
        },
        {
          "name": "Message - Send",
          "value": "message:send"
        },
        {
          "name": "Message - Send and Wait for Response",
          "value": "message:sendAndWait"
        },
        {
          "name": "Thread - Add Label",
          "value": "thread:addLabels"
        },
        {
          "name": "Thread - Delete",
          "value": "thread:delete"
        },
        {
          "name": "Thread - Get",
          "value": "thread:get"
        },
        {
          "name": "Thread - Get Many",
          "value": "thread:getAll"
        },
        {
          "name": "Thread - Remove Label",
          "value": "thread:removeLabels"
        },
        {
          "name": "Thread - Reply",
          "value": "thread:reply"
        },
        {
          "name": "Thread - Trash",
          "value": "thread:trash"
        },
        {
          "name": "Thread - Untrash",
          "value": "thread:untrash"
        }
      ],
      "description": "Select operation type for reference. Configure actual operation in Payload field below."
    },
    {
      "label": "Payload",
      "type": "Text",
      "value": "{\n  \"resource\": \"draft\",\n  \"operation\": \"create\",\n  \"subject\": \"${subject}\",\n  \"threadNotice\": \"${threadNotice}\",\n  \"emailType\": \"${emailType}\",\n  \"message\": \"${message}\",\n  \"options\": \"${options}\"\n}",
      "binding": {
        "type": "camunda:inputParameter",
        "name": "payload"
      },
      "group": "input",
      "description": "JSON payload sent to n8n. Use ${variableName} syntax for process variables.\n\nCommon Examples:\n\n=== Draft ===\n\nCreate:\n{\n  \"resource\": \"draft\",\n  \"operation\": \"create\",\n  \"subject\": \"${subject}\",\n  \"threadNotice\": \"${threadNotice}\",\n  \"emailType\": \"${emailType}\"\n}\n\nDelete:\n{\n  \"resource\": \"draft\",\n  \"operation\": \"delete\",\n  \"messageId\": \"${messageId}\"\n}\n\nGet:\n{\n  \"resource\": \"draft\",\n  \"operation\": \"get\",\n  \"messageId\": \"${messageId}\",\n  \"options\": \"${options}\"\n}\n\n... and 1 more operations\n\n=== Label ===\n\nCreate:\n{\n  \"resource\": \"label\",\n  \"operation\": \"create\",\n  \"name\": \"${name}\",\n  \"options\": \"${options}\"\n}\n\nDelete:\n{\n  \"resource\": \"label\",\n  \"operation\": \"delete\",\n  \"labelId\": \"${labelId}\"\n}\n\nGet:\n{\n  \"resource\": \"label\",\n  \"operation\": \"get\",\n  \"labelId\": \"${labelId}\"\n}\n\n... and 1 more operations\n\n=== Message ===\n\nAdd Label:\n{\n  \"resource\": \"message\",\n  \"operation\": \"addLabels\",\n  \"messageId\": \"${messageId}\",\n  \"labelIds\": \"${labelIds}\"\n}\n\nDelete:\n{\n  \"resource\": \"message\",\n  \"operation\": \"delete\",\n  \"messageId\": \"${messageId}\"\n}\n\nGet:\n{\n  \"resource\": \"message\",\n  \"operation\": \"get\",\n  \"messageId\": \"${messageId}\",\n  \"simple\": \"${simple}\"\n}\n\n... and 7 more operations\n\n=== Thread ===\n\nAdd Label:\n{\n  \"resource\": \"thread\",\n  \"operation\": \"addLabels\",\n  \"threadId\": \"${threadId}\",\n  \"labelIds\": \"${labelIds}\"\n}\n\nDelete:\n{\n  \"resource\": \"thread\",\n  \"operation\": \"delete\",\n  \"threadId\": \"${threadId}\"\n}\n\nGet:\n{\n  \"resource\": \"thread\",\n  \"operation\": \"get\",\n  \"threadId\": \"${threadId}\",\n  \"simple\": \"${simple}\"\n}\n\n... and 5 more operations\n\nEdit the payload JSON above to match your operation.",
      "constraints": {
        "notEmpty": true
      }
    },
    {
      "label": "Output Mapping",
      "type": "Text",
      "value": "{\n  \"success\": \"$.success\",\n  \"statusCode\": \"$.statusCode\",\n  \"error\": \"$.error\"\n}",
      "binding": {
        "type": "camunda:inputParameter",
        "name": "outputMapping"
      },
      "group": "output"
    }
  ]
}